{"ast":null,"code":"const url = 'neo4j://localhost:7687'; // URL mise à jour\nconst user = 'neo4j';\nconst password = 'lecluedo';\nexport function executeQuery(query) {\n  return fetch(url, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': 'Basic ' + btoa(`${user}:${password}`)\n    },\n    body: JSON.stringify({\n      statements: [{\n        statement: query\n      }]\n    })\n  }).then(response => {\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n    return response.json();\n  }).then(data => {\n    var _data$results$;\n    return ((_data$results$ = data.results[0]) === null || _data$results$ === void 0 ? void 0 : _data$results$.data) || [];\n  }) // Accès sécurisé\n  .catch(error => {\n    console.error('Error executing query:', error);\n    throw error; // Laisse l'erreur remonter\n  });\n}","map":{"version":3,"names":["url","user","password","executeQuery","query","fetch","method","headers","btoa","body","JSON","stringify","statements","statement","then","response","ok","Error","json","data","_data$results$","results","catch","error","console"],"sources":["C:/Users/gelgo/Documents/IUT/BUT3/R5.10 - Nouveaux paradigmes de BDD/cluedo-game/src/neo4jConnection.js"],"sourcesContent":["const url = 'neo4j://localhost:7687'; // URL mise à jour\r\nconst user = 'neo4j';\r\nconst password = 'lecluedo';\r\n\r\nexport function executeQuery(query) {\r\n    return fetch(url, {\r\n        method: 'POST',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': 'Basic ' + btoa(`${user}:${password}`)\r\n        },\r\n        body: JSON.stringify({\r\n            statements: [\r\n                {\r\n                    statement: query\r\n                }\r\n            ]\r\n        })\r\n    })\r\n    .then(response => {\r\n        if (!response.ok) {\r\n            throw new Error('Network response was not ok');\r\n        }\r\n        return response.json();\r\n    })\r\n    .then(data => data.results[0]?.data || []) // Accès sécurisé\r\n    .catch(error => {\r\n        console.error('Error executing query:', error);\r\n        throw error; // Laisse l'erreur remonter\r\n    });\r\n}\r\n"],"mappings":"AAAA,MAAMA,GAAG,GAAG,wBAAwB,CAAC,CAAC;AACtC,MAAMC,IAAI,GAAG,OAAO;AACpB,MAAMC,QAAQ,GAAG,UAAU;AAE3B,OAAO,SAASC,YAAYA,CAACC,KAAK,EAAE;EAChC,OAAOC,KAAK,CAACL,GAAG,EAAE;IACdM,MAAM,EAAE,MAAM;IACdC,OAAO,EAAE;MACL,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,QAAQ,GAAGC,IAAI,CAAC,GAAGP,IAAI,IAAIC,QAAQ,EAAE;IAC1D,CAAC;IACDO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACjBC,UAAU,EAAE,CACR;QACIC,SAAS,EAAET;MACf,CAAC;IAET,CAAC;EACL,CAAC,CAAC,CACDU,IAAI,CAACC,QAAQ,IAAI;IACd,IAAI,CAACA,QAAQ,CAACC,EAAE,EAAE;MACd,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;IAClD;IACA,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;EAC1B,CAAC,CAAC,CACDJ,IAAI,CAACK,IAAI;IAAA,IAAAC,cAAA;IAAA,OAAI,EAAAA,cAAA,GAAAD,IAAI,CAACE,OAAO,CAAC,CAAC,CAAC,cAAAD,cAAA,uBAAfA,cAAA,CAAiBD,IAAI,KAAI,EAAE;EAAA,EAAC,CAAC;EAAA,CAC1CG,KAAK,CAACC,KAAK,IAAI;IACZC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9C,MAAMA,KAAK,CAAC,CAAC;EACjB,CAAC,CAAC;AACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}